<html>

<head>
    <!-- Load TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <!-- Load Posenet -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet"></script>
</head>

<body>

</body>
<!-- Place your code in the script tag below. You can also use an external .js file -->
<script>
    var flipHorizontal = false;
    var label = ",nose,leftEye,rightEye,leftEar,rightEar,leftShoulder,rightShoulder,leftElbow,rightElbow,leftWrist,rightWrist,leftHip,rightHip,leftKnee,rightKnee,leftAnkle,rightAnkle"
    var nImgs = 2;
    var arrPos = [label.split(',')];
    var image;
    var pontos;
    var promise = new Promise(function() {}); 

    for (let i = 1; i <= nImgs; i++) {
        image = new Image();
        image.src = `img${i}.jpg`;
        posenet.load().then((net)=> {
            return net.estimateSinglePose(image, {
                flipHorizontal: false
            });
        }).then((pose)=> {
            pontos = [0,0];
            pose.keypoints.forEach((ponto) => {
                const { x, y } = ponto.position;
                pontos.push(x, y);
            })
            arrPos.push([pontos]);
        })
    }
    console.log(arrPos)
</script>

</html>